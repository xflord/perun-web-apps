(self.webpackChunkperun_web_apps=self.webpackChunkperun_web_apps||[]).push([[363],{95690:function(e,t,i){"use strict";i.d(t,{u:function(){return f}});var s=i(88426),n=i(31572),r=i(57629),a=i(55109),o=i(61511),c=i(541),p=i(69012),l=i(48160);function u(e,t){1&e&&(n._uU(0),n.ALo(1,"translate")),2&e&&n.hij(" ",n.lcZ(1,1,"ADMIN_USER.ENTITY")," ")}function g(e,t){if(1&e&&n._UZ(0,"app-one-entity-attribute-page",5),2&e){const e=n.oxw();n.Q6J("entityId",e.userId)("entity","user")}}function d(e,t){1&e&&(n._uU(0),n.ALo(1,"translate"),n.ALo(2,"translate")),2&e&&n.AsE(" ",n.lcZ(1,2,"ADMIN_USER.ENTITY")," - ",n.lcZ(2,4,"FACILITY_DETAIL.ENTITY")," ")}function m(e,t){if(1&e&&n._UZ(0,"app-two-entity-attribute-page",6),2&e){const e=n.oxw(2);n.Q6J("firstEntity","user")("firstEntityId",e.userId)("secondEntity","facility")}}function h(e,t){1&e&&(n.TgZ(0,"mat-tab"),n.YNc(1,d,3,6,"ng-template",2),n.YNc(2,m,1,3,"ng-template",3),n.qZA())}let f=(()=>{class e{constructor(e,t,i){this.route=e,this.store=t,this.authResolver=i}ngOnInit(){this.route.parent.params.subscribe(e=>{this.userId=e.userId,void 0===this.userId&&(this.userId=this.store.getPerunPrincipal().userId),this.userFacilityAttAuth=this.authResolver.isAuthorized("getAssignedFacilities_User_policy",[{id:this.userId,beanName:"User"}])})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(r.gz),n.Y36(s.d6),n.Y36(s.x4))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-user-settings-attributes"]],hostVars:2,hostBindings:function(e,t){2&e&&n.ekj("router-component",t.true)},decls:8,vars:4,consts:[[1,"page-subtitle"],[1,"mb-2"],["matTabLabel",""],["matTabContent",""],[4,"ngIf"],[3,"entityId","entity"],[3,"firstEntity","firstEntityId","secondEntity"]],template:function(e,t){1&e&&(n.TgZ(0,"h1",0),n._uU(1),n.ALo(2,"translate"),n.qZA(),n.TgZ(3,"mat-tab-group"),n.TgZ(4,"mat-tab",1),n.YNc(5,u,2,3,"ng-template",2),n.YNc(6,g,1,2,"ng-template",3),n.qZA(),n.YNc(7,h,3,0,"mat-tab",4),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,2,"USER_DETAIL.SETTINGS.ATTRIBUTES.TITLE")),n.xp6(6),n.Q6J("ngIf",t.userFacilityAttAuth))},directives:[a.SP,a.uX,a.uD,a.Vc,o.O5,c.t,p.Y],pipes:[l.X$],styles:[""]}),e})()},31612:function(e,t,i){"use strict";i.d(t,{u:function(){return T}});var s=i(88426),n=i(33642),r=i(60611),a=i(31572),o=i(57629),c=i(61511),p=i(59403),l=i(19139),u=i(67806),g=i(78364),d=i(48160);function m(e,t){1&e&&(a.TgZ(0,"h1",6),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&e&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"SHARED.COMPONENTS.USER_DETAIL.GROUPS.YOU_ARE_MEMBER"),"\n"))}function h(e,t){1&e&&(a.TgZ(0,"h1",6),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&e&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"SHARED.COMPONENTS.USER_DETAIL.GROUPS.USER_IS_MEMBER"),"\n"))}function f(e,t){1&e&&a._UZ(0,"mat-spinner",7)}const Z=function(){return["id","vo","name","description","status"]};function I(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"perun-web-apps-groups-list",8),a.NdJ("page",function(t){return a.CHM(e),a.oxw().pageChanged(t)}),a.qZA()}if(2&e){const e=a.oxw();a.Q6J("pageSize",e.pageSize)("groups",e.membersGroups)("displayedColumns",a.DdM(5,Z))("disableMembers",!1)("filter",e.memberFilterValue)}}function S(e,t){1&e&&a._UZ(0,"mat-spinner",7)}const A=function(){return["id","vo","name","description"]};function E(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"perun-web-apps-groups-list",8),a.NdJ("page",function(t){return a.CHM(e),a.oxw(2).adminPageChanged(t)}),a.qZA()}if(2&e){const e=a.oxw(2);a.Q6J("pageSize",e.adminPageSize)("groups",e.adminsGroups)("displayedColumns",a.DdM(5,A))("disableMembers",!1)("filter",e.adminFilterValue)}}function b(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",9),a.TgZ(1,"h1",6),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"perun-web-apps-refresh-button",1),a.NdJ("refresh",function(){return a.CHM(e),a.oxw().refreshAdminTable()}),a.qZA(),a.TgZ(5,"perun-web-apps-immediate-filter",2),a.NdJ("filter",function(t){return a.CHM(e),a.oxw().adminFilter(t)}),a.qZA(),a.YNc(6,S,1,0,"mat-spinner",3),a.YNc(7,E,1,6,"perun-web-apps-groups-list",4),a.qZA()}if(2&e){const e=a.oxw();a.xp6(2),a.hij(" ",a.lcZ(3,4,"SHARED.COMPONENTS.USER_DETAIL.GROUPS.USER_IS_ADMIN")," "),a.xp6(3),a.Q6J("placeholder","SHARED_LIB.PERUN.ORGANIZATIONS.FILTER"),a.xp6(1),a.Q6J("ngIf",e.adminRefresh),a.xp6(1),a.Q6J("ngIf",!e.adminRefresh)}}let T=(()=>{class e{constructor(e,t,i,s,n,a){this.usersService=e,this.memberService=t,this.tableConfigService=i,this.groupService=s,this.store=n,this.route=a,this.memberFilterValue="",this.adminFilterValue="",this.vos=[],this.membersGroups=[],this.adminsGroups=[],this.tableId=r.KE,this.adminTableId=r.Sb}ngOnInit(){this.pageSize=this.tableConfigService.getTablePageSize(this.tableId),this.adminPageSize=this.tableConfigService.getTablePageSize(this.adminTableId),!0===(this.showPrincipal=this.route.snapshot.data.showPrincipal)?this.userId=this.store.getPerunPrincipal().user.id:this.route.parent.params.subscribe(e=>this.userId=e.userId),this.refreshAdminTable(),this.refreshMemberTable()}pageChanged(e){this.pageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.tableId,e.pageSize)}adminPageChanged(e){this.adminPageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.adminTableId,e.pageSize)}memberFilter(e){this.memberFilterValue=e}adminFilter(e){this.adminFilterValue=e}refreshAdminTable(){this.adminRefresh=!0,this.usersService.getGroupsWhereUserIsAdmin(this.userId).subscribe(e=>{this.adminsGroups=e,this.adminRefresh=!1})}refreshMemberTable(){this.memberRefresh=!0,this.membersGroups=[],this.usersService.getVosWhereUserIsMember(this.userId).subscribe(e=>{this.vos=e;for(const t of this.vos)this.memberService.getMemberByUser(t.id,this.userId).subscribe(e=>{this.groupService.getMemberGroups(e.id).subscribe(e=>{this.membersGroups=this.membersGroups.concat(e),this.vos.indexOf(t)===this.vos.length-1&&(this.memberRefresh=!1)})});0===e.length&&(this.memberRefresh=!1)})}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(n.Fv),a.Y36(n.uq),a.Y36(r.dB),a.Y36(n.ff),a.Y36(s.d6),a.Y36(o.gz))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-user-groups"]],hostVars:2,hostBindings:function(e,t){2&e&&a.ekj("router-component",t.true)},decls:7,vars:6,consts:[["class","page-subtitle",4,"ngIf"],[3,"refresh"],[3,"placeholder","filter"],["class","ml-auto mr-auto",4,"ngIf"],[3,"pageSize","groups","displayedColumns","disableMembers","filter","page",4,"ngIf"],["class","mt-5",4,"ngIf"],[1,"page-subtitle"],[1,"ml-auto","mr-auto"],[3,"pageSize","groups","displayedColumns","disableMembers","filter","page"],[1,"mt-5"]],template:function(e,t){1&e&&(a.YNc(0,m,3,3,"h1",0),a.YNc(1,h,3,3,"h1",0),a.TgZ(2,"perun-web-apps-refresh-button",1),a.NdJ("refresh",function(){return t.refreshMemberTable()}),a.qZA(),a.TgZ(3,"perun-web-apps-immediate-filter",2),a.NdJ("filter",function(e){return t.memberFilter(e)}),a.qZA(),a.YNc(4,f,1,0,"mat-spinner",3),a.YNc(5,I,1,6,"perun-web-apps-groups-list",4),a.YNc(6,b,8,6,"div",5)),2&e&&(a.Q6J("ngIf",t.showPrincipal),a.xp6(1),a.Q6J("ngIf",!t.showPrincipal),a.xp6(2),a.Q6J("placeholder","SHARED_LIB.PERUN.ORGANIZATIONS.FILTER"),a.xp6(1),a.Q6J("ngIf",t.memberRefresh),a.xp6(1),a.Q6J("ngIf",!t.memberRefresh),a.xp6(1),a.Q6J("ngIf",!t.showPrincipal))},directives:[c.O5,p.t,l.L,u.$g,g.W],pipes:[d.X$],styles:[""]}),e})()},15879:function(e,t,i){"use strict";i.d(t,{j:function(){return E}});var s=i(33642),n=i(88426),r=i(60611),a=i(31572),o=i(57629),c=i(61511),p=i(59403),l=i(19139),u=i(67806),g=i(97162),d=i(48160);function m(e,t){1&e&&(a.TgZ(0,"h1",6),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&e&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"SHARED_LIB.PERUN.ORGANIZATIONS.YOU_ARE_MEMBER"),"\n"))}function h(e,t){1&e&&(a.TgZ(0,"h1",6),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&e&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"SHARED_LIB.PERUN.ORGANIZATIONS.USER_IS_MEMBER"),"\n"))}function f(e,t){1&e&&a._UZ(0,"mat-spinner",7)}function Z(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"perun-web-apps-vos-list",8),a.NdJ("page",function(t){return a.CHM(e),a.oxw().memberPageChanged(t)}),a.qZA()}if(2&e){const e=a.oxw();a.Q6J("displayedColumns",e.displayedColumns)("pageSize",e.memberPageSize)("filterValue",e.memberFilterValue)("vos",e.vosWhereIsMember)}}function I(e,t){1&e&&a._UZ(0,"mat-spinner",7)}function S(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"perun-web-apps-vos-list",8),a.NdJ("page",function(t){return a.CHM(e),a.oxw(2).adminPageChanged(t)}),a.qZA()}if(2&e){const e=a.oxw(2);a.Q6J("displayedColumns",e.displayedColumns)("pageSize",e.adminPageSize)("filterValue",e.adminFilterValue)("vos",e.vosWhereIsAdmin)}}function A(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"div",9),a.TgZ(1,"h1",6),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"perun-web-apps-refresh-button",1),a.NdJ("refresh",function(){return a.CHM(e),a.oxw().refreshAdminTable()}),a.qZA(),a.TgZ(5,"perun-web-apps-immediate-filter",2),a.NdJ("filter",function(t){return a.CHM(e),a.oxw().applyAdminFilter(t)}),a.qZA(),a.YNc(6,I,1,0,"mat-spinner",3),a.YNc(7,S,1,4,"perun-web-apps-vos-list",4),a.qZA()}if(2&e){const e=a.oxw();a.xp6(2),a.Oqu(a.lcZ(3,4,"SHARED_LIB.PERUN.ORGANIZATIONS.USER_IS_ADMIN")),a.xp6(3),a.Q6J("placeholder","SHARED_LIB.PERUN.ORGANIZATIONS.FILTER"),a.xp6(1),a.Q6J("ngIf",e.adminRefresh),a.xp6(1),a.Q6J("ngIf",!e.adminRefresh)}}let E=(()=>{class e{constructor(e,t,i,s,n){this.usersService=e,this.authResolver=t,this.tableConfigService=i,this.store=s,this.route=n,this.adminFilterValue="",this.memberFilterValue="",this.displayedColumns=["id","name"],this.adminTableId=r.YF,this.memberTableId=r.gc}ngOnInit(){this.adminPageSize=this.tableConfigService.getTablePageSize(this.adminTableId),this.memberPageSize=this.tableConfigService.getTablePageSize(this.memberTableId),!0===(this.isMyProfile=this.route.snapshot.data.showPrincipal)?this.userId=this.store.getPerunPrincipal().user.id:this.route.parent.params.subscribe(e=>this.userId=e.userId),this.refreshAdminTable(),this.refreshMemberTable()}refreshMemberTable(){this.memberRefresh=!0,this.usersService.getVosWhereUserIsMember(this.userId).subscribe(e=>{this.vosWhereIsMember=e,this.memberRefresh=!1},()=>this.memberRefresh=!1)}refreshAdminTable(){this.adminRefresh=!0,this.usersService.getVosWhereUserIsAdmin(this.userId).subscribe(e=>{this.vosWhereIsAdmin=e,this.adminRefresh=!1},()=>this.adminRefresh=!1)}applyMemberFilter(e){this.memberFilterValue=e}adminPageChanged(e){this.adminPageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.adminTableId,e.pageSize)}memberPageChanged(e){this.memberPageSize=e.pageSize,this.tableConfigService.setTablePageSize(this.memberTableId,e.pageSize)}applyAdminFilter(e){this.adminFilterValue=e}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(s.Fv),a.Y36(n.x4),a.Y36(r.dB),a.Y36(n.d6),a.Y36(o.gz))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-user-organizations"]],hostVars:2,hostBindings:function(e,t){2&e&&a.ekj("router-component",t.true)},decls:7,vars:6,consts:[["class","page-subtitle",4,"ngIf"],[3,"refresh"],[3,"placeholder","filter"],["class","mr-auto ml-auto",4,"ngIf"],[3,"displayedColumns","pageSize","filterValue","vos","page",4,"ngIf"],["class","mt-5",4,"ngIf"],[1,"page-subtitle"],[1,"mr-auto","ml-auto"],[3,"displayedColumns","pageSize","filterValue","vos","page"],[1,"mt-5"]],template:function(e,t){1&e&&(a.YNc(0,m,3,3,"h1",0),a.YNc(1,h,3,3,"h1",0),a.TgZ(2,"perun-web-apps-refresh-button",1),a.NdJ("refresh",function(){return t.refreshMemberTable()}),a.qZA(),a.TgZ(3,"perun-web-apps-immediate-filter",2),a.NdJ("filter",function(e){return t.applyMemberFilter(e)}),a.qZA(),a.YNc(4,f,1,0,"mat-spinner",3),a.YNc(5,Z,1,4,"perun-web-apps-vos-list",4),a.YNc(6,A,8,6,"div",5)),2&e&&(a.Q6J("ngIf",t.isMyProfile),a.xp6(1),a.Q6J("ngIf",!t.isMyProfile),a.xp6(2),a.Q6J("placeholder","SHARED_LIB.PERUN.ORGANIZATIONS.FILTER"),a.xp6(1),a.Q6J("ngIf",t.memberRefresh),a.xp6(1),a.Q6J("ngIf",!t.memberRefresh),a.xp6(1),a.Q6J("ngIf",!t.isMyProfile))},directives:[c.O5,p.t,l.L,u.$g,g.Z],pipes:[d.X$],styles:[""]}),e})()},71956:function(e,t,i){"use strict";i.d(t,{Z:function(){return R}});var s=i(33642),n=i(67033),r=i(88426),a=i(67004),o=i(27613),c=i(81954),p=i(31572),l=i(57629),u=i(84608),g=i(61511),d=i(8557),m=i(27439),h=i(15980),f=i(43691),Z=i(48160);function I(e,t){1&e&&p._UZ(0,"th",12)}function S(e,t){if(1&e&&(p.TgZ(0,"td",13),p._uU(1),p.qZA()),2&e){const e=t.$implicit;p.xp6(1),p.hij(" ",e.displayName,": ")}}function A(e,t){1&e&&p._UZ(0,"th",12)}function E(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"td",14),p._uU(1),p.TgZ(2,"button",15),p.NdJ("click",function(){return p.CHM(e),p.oxw(2).changeEmail()}),p.TgZ(3,"mat-icon"),p._uU(4,"edit"),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=t.$implicit;p.xp6(1),p.hij(" ",e.value," ")}}function b(e,t){1&e&&p._UZ(0,"tr",16)}function T(e,t){if(1&e&&(p.TgZ(0,"div",2),p.TgZ(1,"mat-card",3),p.TgZ(2,"mat-card-header"),p.TgZ(3,"mat-card-title"),p.TgZ(4,"h1",4),p._uU(5),p.ALo(6,"translate"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(7,"mat-card-content"),p.TgZ(8,"table",5),p.ynx(9,6),p.YNc(10,I,1,0,"th",7),p.YNc(11,S,2,1,"td",8),p.BQk(),p.ynx(12,9),p.YNc(13,A,1,0,"th",7),p.YNc(14,E,5,1,"td",10),p.BQk(),p.YNc(15,b,1,0,"tr",11),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(5),p.Oqu(p.lcZ(6,3,"USER_DETAIL.OVERVIEW.GENERAL_SETTINGS")),p.xp6(3),p.Q6J("dataSource",e.mailDataSource),p.xp6(7),p.Q6J("matRowDefColumns",e.displayedColumns)}}let R=(()=>{class e{constructor(e,t,i,s,n){this.userService=e,this.attributeService=t,this.storeService=i,this.route=s,this.dialog=n,this.navItems=[],this.displayedColumns=["name","value"],this.inMyProfile=!1}ngOnInit(){this.route.params.subscribe(e=>{void 0!==e.userId?this.userService.getUserById(e.userId).subscribe(e=>{this.user=e,this.initNavItems()}):(this.inMyProfile=!0,this.userID=this.storeService.getPerunPrincipal().user.id,this.attributeService.getUserAttributeByName(this.userID,a.r.USER_DEF_PREFERRED_MAIL).subscribe(e=>{this.preferredMail=e,this.handleMailNotDefined(),this.mailDataSource=new n.by([this.preferredMail]),this.initNavItems()}))})}initNavItems(){this.navItems=[{cssIcon:"perun-vo",url:"organizations",label:"MENU_ITEMS.ADMIN.ORGANIZATIONS",style:"user-btn"},{cssIcon:"perun-group",url:"groups",label:"MENU_ITEMS.ADMIN.GROUPS",style:"user-btn"}],window.location.pathname.startsWith("/admin")&&this.navItems.push({cssIcon:"perun-group",url:"identities",label:"MENU_ITEMS.USER.IDENTITIES",style:"user-btn"},{cssIcon:"perun-facility-white",url:"facilities",label:"MENU_ITEMS.USER.FACILITIES",style:"user-btn"},{cssIcon:"perun-resource",url:"resources",label:"MENU_ITEMS.USER.RESOURCES",style:"user-btn"}),this.navItems.push({cssIcon:"perun-attributes",url:"attributes",label:"MENU_ITEMS.USER.ATTRIBUTES",style:"user-btn"}),this.navItems.push({cssIcon:"perun-group",url:"roles",label:"MENU_ITEMS.USER.ROLES",style:"user-btn"},{cssIcon:"perun-settings2",url:"settings",label:"MENU_ITEMS.ADMIN.SETTINGS",style:"user-btn"})}changeEmail(){const e=(0,o.kZ)();e.width="350px",e.data={userId:this.userID},this.dialog.open(c.gr,e).afterClosed().subscribe(e=>{e&&this.attributeService.getUserAttributeByName(this.userID,a.r.USER_DEF_PREFERRED_MAIL).subscribe(e=>{this.preferredMail=e,this.handleMailNotDefined(),this.mailDataSource=new n.by([this.preferredMail])})})}handleMailNotDefined(){null==this.preferredMail&&(this.preferredMail={id:-1,beanName:"Attribute",displayName:(0,o.Cz)(a.r.USER_DEF_PREFERRED_MAIL.split(":").pop()),value:Object("-")})}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(s.Fv),p.Y36(s.H8),p.Y36(r.d6),p.Y36(l.gz),p.Y36(u.uw))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-user-overview"]],hostVars:2,hostBindings:function(e,t){2&e&&p.ekj("router-component",t.true)},decls:2,vars:3,consts:[["class","align-cards",4,"ngIf"],[3,"items","size"],[1,"align-cards"],[1,"mat-elevation-z3"],[1,"page-subtitle"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["class","font-weight-bold","mat-cell","",4,"matCellDef"],["matColumnDef","value"],["mat-cell","",4,"matCellDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"font-weight-bold"],["mat-cell",""],["mat-icon-button","",1,"ml-3",3,"click"],["mat-row",""]],template:function(e,t){1&e&&(p.YNc(0,T,16,5,"div",0),p._UZ(1,"perun-web-apps-menu-buttons-field",1)),2&e&&(p.Q6J("ngIf",t.inMyProfile),p.xp6(1),p.Q6J("items",t.navItems)("size","small"))},directives:[g.O5,d.L,m.a8,m.dk,m.n5,m.dn,n.BZ,n.w1,n.fO,n.Dz,n.nj,n.ge,n.ev,h.lW,f.Hw,n.Gk],pipes:[Z.X$],styles:[".align-cards[_ngcontent-%COMP%]{margin:1rem;display:inline-block;vertical-align:top}"]}),e})()},7233:function(e,t,i){"use strict";i.d(t,{t:function(){return Pe}});var s=i(33642),n=i(88426),r=i(31572),a=i(57629),o=i(61511),c=i(67806),p=i(45001),l=i(43691),u=i(27439),g=i(97162),d=i(86593),m=i(78364),h=i(88884),f=i(60007),Z=i(4252),I=i(48160);function S(e,t){1&e&&r._UZ(0,"mat-spinner",3)}function A(e,t){1&e&&r._UZ(0,"mat-spinner",3)}function E(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"ROLES.SELF_VOS_ADMIN")," "))}function b(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"ROLES.SELF_VOS")," "))}function T(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"ROLES.SELF_IDENTITIES_ADMIN")," "))}function R(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"ROLES.SELF_IDENTITIES")," "))}const v=function(){return["user","id","name"]};function x(e,t){if(1&e&&(r.TgZ(0,"div",11),r.YNc(1,T,3,3,"div",2),r.YNc(2,R,3,3,"div",2),r._UZ(3,"app-users-list",12),r.qZA()),2&e){const e=r.oxw(4);r.xp6(1),r.Q6J("ngIf",!e.showDescription),r.xp6(1),r.Q6J("ngIf",e.showDescription),r.xp6(1),r.Q6J("users",e.users)("disableRouting",!0)("displayedColumns",r.DdM(5,v))}}const N=function(){return["id","name","shortName"]};function U(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,E,3,3,"div",2),r.YNc(2,b,3,3,"div",2),r._UZ(3,"perun-web-apps-vos-list",9),r.YNc(4,x,4,6,"div",10),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngIf",!e.showDescription),r.xp6(1),r.Q6J("ngIf",e.showDescription),r.xp6(1),r.Q6J("displayedColumns",r.DdM(5,N))("vos",e.vos),r.xp6(1),r.Q6J("ngIf",e.users.length)}}function O(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"mat-expansion-panel",6),r.NdJ("opened",function(){return r.CHM(e),r.oxw(2).getSelfData()}),r.TgZ(1,"mat-expansion-panel-header"),r.TgZ(2,"mat-panel-title"),r._UZ(3,"mat-icon",7),r.TgZ(4,"p",8),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.qZA(),r.qZA(),r.YNc(7,A,1,0,"mat-spinner",1),r.YNc(8,U,5,6,"div",2),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(5),r.Oqu(r.lcZ(6,3,"ROLES.SELF")),r.xp6(2),r.Q6J("ngIf",e.loading),r.xp6(1),r.Q6J("ngIf",!e.loading)}}function _(e,t){1&e&&r._UZ(0,"mat-spinner",3)}function M(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"ROLES.GROUPADMIN_GROUPS")," "))}const q=function(){return["id","vo","name","description"]};function w(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,M,3,3,"div",2),r._UZ(2,"perun-web-apps-groups-list",14),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngIf",e.showDescription),r.xp6(1),r.Q6J("groups",e.groups)("displayedColumns",r.DdM(3,q))}}function C(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"mat-expansion-panel",6),r.NdJ("opened",function(){return r.CHM(e),r.oxw(2).getAdminGroupsAndVos()}),r.TgZ(1,"mat-expansion-panel-header"),r.TgZ(2,"mat-panel-title"),r._UZ(3,"mat-icon",13),r.TgZ(4,"p",8),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.qZA(),r.qZA(),r.YNc(7,_,1,0,"mat-spinner",1),r.YNc(8,w,3,4,"div",2),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(5),r.Oqu(r.lcZ(6,3,"ROLES.GROUPADMIN")),r.xp6(2),r.Q6J("ngIf",e.loading),r.xp6(1),r.Q6J("ngIf",!e.loading)}}function L(e,t){1&e&&r._UZ(0,"mat-spinner",3)}function Y(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"ROLES.GROUPOBSERVER_GROUPS")," "))}const J=function(){return["id","recent","vo","name","description"]};function P(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,Y,3,3,"div",2),r._UZ(2,"perun-web-apps-groups-list",14),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngIf",e.showDescription),r.xp6(1),r.Q6J("groups",e.groups)("displayedColumns",r.DdM(3,J))}}function y(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"mat-expansion-panel",6),r.NdJ("opened",function(){return r.CHM(e),r.oxw(2).getGroupsAndVos("GROUPOBSERVER")}),r.TgZ(1,"mat-expansion-panel-header"),r.TgZ(2,"mat-panel-title"),r._UZ(3,"mat-icon",13),r.TgZ(4,"p",8),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.qZA(),r.qZA(),r.YNc(7,L,1,0,"mat-spinner",1),r.YNc(8,P,3,4,"div",2),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(5),r.Oqu(r.lcZ(6,3,"ROLES.GROUPOBSERVER")),r.xp6(2),r.Q6J("ngIf",e.loading),r.xp6(1),r.Q6J("ngIf",!e.loading)}}function D(e,t){1&e&&r._UZ(0,"mat-spinner",3)}function F(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"ROLES.VOADMIN_VOS")," "))}function Q(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,F,3,3,"div",2),r._UZ(2,"perun-web-apps-vos-list",9),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngIf",e.showDescription),r.xp6(1),r.Q6J("displayedColumns",r.DdM(3,N))("vos",e.vos)}}function V(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"mat-expansion-panel",6),r.NdJ("opened",function(){return r.CHM(e),r.oxw(2).getAdminVos()}),r.TgZ(1,"mat-expansion-panel-header"),r.TgZ(2,"mat-panel-title"),r._UZ(3,"mat-icon",15),r.TgZ(4,"p",8),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.qZA(),r.qZA(),r.YNc(7,D,1,0,"mat-spinner",1),r.YNc(8,Q,3,4,"div",2),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(5),r.Oqu(r.lcZ(6,3,"ROLES.VOADMIN")),r.xp6(2),r.Q6J("ngIf",e.loading),r.xp6(1),r.Q6J("ngIf",!e.loading)}}function z(e,t){1&e&&r._UZ(0,"mat-spinner",3)}function B(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"ROLES.VOOBSERVER_VOS")," "))}function G(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,B,3,3,"div",2),r._UZ(2,"perun-web-apps-vos-list",9),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngIf",e.showDescription),r.xp6(1),r.Q6J("displayedColumns",r.DdM(3,N))("vos",e.vos)}}function k(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"mat-expansion-panel",6),r.NdJ("opened",function(){r.CHM(e);const t=r.oxw(2);return t.getVos(t.roles.get("VOOBSERVER").get("Vo"))}),r.TgZ(1,"mat-expansion-panel-header"),r.TgZ(2,"mat-panel-title"),r._UZ(3,"mat-icon",15),r.TgZ(4,"p",8),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.qZA(),r.qZA(),r.YNc(7,z,1,0,"mat-spinner",1),r.YNc(8,G,3,4,"div",2),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(5),r.Oqu(r.lcZ(6,3,"ROLES.VOOBSERVER")),r.xp6(2),r.Q6J("ngIf",e.loading),r.xp6(1),r.Q6J("ngIf",!e.loading)}}function H(e,t){1&e&&r._UZ(0,"mat-spinner",3)}function j(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"ROLES.TRUSTEDFACILITYADMIN_VOS")," "))}function W(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"div"),r.YNc(2,j,3,3,"div",2),r._UZ(3,"perun-web-apps-vos-list",9),r.qZA(),r.qZA()),2&e){const e=r.oxw(3);r.xp6(2),r.Q6J("ngIf",e.showDescription),r.xp6(1),r.Q6J("displayedColumns",r.DdM(3,N))("vos",e.vos)}}function X(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"mat-expansion-panel",6),r.NdJ("opened",function(){r.CHM(e);const t=r.oxw(2);return t.getVos(t.roles.get("TRUSTEDFACILITYADMIN").get("Vo"))}),r.TgZ(1,"mat-expansion-panel-header"),r.TgZ(2,"mat-panel-title"),r._UZ(3,"mat-icon",15),r.TgZ(4,"p",8),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.qZA(),r.qZA(),r.YNc(7,H,1,0,"mat-spinner",1),r.YNc(8,W,4,4,"div",2),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(5),r.Oqu(r.lcZ(6,3,"ROLES.TRUSTEDFACILITYADMIN")),r.xp6(2),r.Q6J("ngIf",e.loading),r.xp6(1),r.Q6J("ngIf",!e.loading)}}function $(e,t){1&e&&r._UZ(0,"mat-spinner",3)}function K(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"ROLES.TOPGROUPCREATOR_VOS")," "))}function ee(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,K,3,3,"div",2),r._UZ(2,"perun-web-apps-vos-list",9),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngIf",e.showDescription),r.xp6(1),r.Q6J("displayedColumns",r.DdM(3,N))("vos",e.vos)}}function te(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"mat-expansion-panel",6),r.NdJ("opened",function(){r.CHM(e);const t=r.oxw(2);return t.getVos(t.roles.get("TOPGROUPCREATOR").get("Vo"))}),r.TgZ(1,"mat-expansion-panel-header"),r.TgZ(2,"mat-panel-title"),r._UZ(3,"mat-icon",15),r.TgZ(4,"p",8),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.qZA(),r.qZA(),r.YNc(7,$,1,0,"mat-spinner",1),r.YNc(8,ee,3,4,"div",2),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(5),r.Oqu(r.lcZ(6,3,"ROLES.TOPGROUPCREATOR")),r.xp6(2),r.Q6J("ngIf",e.loading),r.xp6(1),r.Q6J("ngIf",!e.loading)}}function ie(e,t){1&e&&r._UZ(0,"mat-spinner",3)}function se(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"ROLES.RESOURCEADMIN_RESOURCES")," "))}const ne=function(){return["id","name","vo","facility","description"]};function re(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,se,3,3,"div",2),r._UZ(2,"perun-web-apps-resources-list",17),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngIf",e.showDescription),r.xp6(1),r.Q6J("resources",e.resources)("routingVo",!0)("displayedColumns",r.DdM(4,ne))}}function ae(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"mat-expansion-panel",6),r.NdJ("opened",function(){return r.CHM(e),r.oxw(2).getResourcesData("RESOURCEADMIN")}),r.TgZ(1,"mat-expansion-panel-header"),r.TgZ(2,"mat-panel-title"),r._UZ(3,"mat-icon",16),r.TgZ(4,"p",8),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.qZA(),r.qZA(),r.YNc(7,ie,1,0,"mat-spinner",1),r.YNc(8,re,3,5,"div",2),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(5),r.Oqu(r.lcZ(6,3,"ROLES.RESOURCEADMIN")),r.xp6(2),r.Q6J("ngIf",e.loading),r.xp6(1),r.Q6J("ngIf",!e.loading)}}function oe(e,t){1&e&&r._UZ(0,"mat-spinner",3)}function ce(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"ROLES.RESOURCEOBSERVER_RESOURCES")," "))}function pe(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,ce,3,3,"div",2),r._UZ(2,"perun-web-apps-resources-list",17),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngIf",e.showDescription),r.xp6(1),r.Q6J("resources",e.resources)("routingVo",!0)("displayedColumns",r.DdM(4,ne))}}function le(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"mat-expansion-panel",6),r.NdJ("opened",function(){return r.CHM(e),r.oxw(2).getResourcesData("RESOURCEOBSERVER")}),r.TgZ(1,"mat-expansion-panel-header"),r.TgZ(2,"mat-panel-title"),r._UZ(3,"mat-icon",16),r.TgZ(4,"p",8),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.qZA(),r.qZA(),r.YNc(7,oe,1,0,"mat-spinner",1),r.YNc(8,pe,3,5,"div",2),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(5),r.Oqu(r.lcZ(6,3,"ROLES.RESOURCEOBSERVER")),r.xp6(2),r.Q6J("ngIf",e.loading),r.xp6(1),r.Q6J("ngIf",!e.loading)}}function ue(e,t){1&e&&r._UZ(0,"mat-spinner",3)}function ge(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"ROLES.RESOURCESELFSERVICE_RESOURCES")," "))}function de(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,ge,3,3,"div",2),r._UZ(2,"perun-web-apps-resources-list",17),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngIf",e.showDescription),r.xp6(1),r.Q6J("resources",e.resources)("routingVo",!0)("displayedColumns",r.DdM(4,ne))}}function me(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"mat-expansion-panel",6),r.NdJ("opened",function(){return r.CHM(e),r.oxw(2).getResourcesData("RESOURCESELFSERVICE")}),r.TgZ(1,"mat-expansion-panel-header"),r.TgZ(2,"mat-panel-title"),r._UZ(3,"mat-icon",16),r.TgZ(4,"p",8),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.qZA(),r.qZA(),r.YNc(7,ue,1,0,"mat-spinner",1),r.YNc(8,de,3,5,"div",2),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(5),r.Oqu(r.lcZ(6,3,"ROLES.RESOURCESELFSERVICE")),r.xp6(2),r.Q6J("ngIf",e.loading),r.xp6(1),r.Q6J("ngIf",!e.loading)}}function he(e,t){1&e&&r._UZ(0,"mat-spinner",3)}function fe(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"ROLES.FACILITYADMIN_FACILITIES")," "))}const Ze=function(){return["id","name","description"]};function Ie(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,fe,3,3,"div",2),r._UZ(2,"perun-web-apps-facilities-list",19),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngIf",e.showDescription),r.xp6(1),r.Q6J("displayedColumns",r.DdM(3,Ze))("facilities",e.facilities)}}function Se(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"mat-expansion-panel",6),r.NdJ("opened",function(){return r.CHM(e),r.oxw(2).getAdminFacilities()}),r.TgZ(1,"mat-expansion-panel-header"),r.TgZ(2,"mat-panel-title"),r._UZ(3,"mat-icon",18),r.TgZ(4,"p",8),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.qZA(),r.qZA(),r.YNc(7,he,1,0,"mat-spinner",1),r.YNc(8,Ie,3,4,"div",2),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(5),r.Oqu(r.lcZ(6,3,"ROLES.FACILITYADMIN")),r.xp6(2),r.Q6J("ngIf",e.loading),r.xp6(1),r.Q6J("ngIf",!e.loading)}}function Ae(e,t){1&e&&r._UZ(0,"mat-spinner",3)}function Ee(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"ROLES.FACILITYOBSERVER_FACILITIES")," "))}function be(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,Ee,3,3,"div",2),r._UZ(2,"perun-web-apps-facilities-list",19),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngIf",e.showDescription),r.xp6(1),r.Q6J("displayedColumns",r.DdM(3,Ze))("facilities",e.facilities)}}function Te(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"mat-expansion-panel",6),r.NdJ("opened",function(){return r.CHM(e),r.oxw(2).getFacilities("FACILITYOBSERVER")}),r.TgZ(1,"mat-expansion-panel-header"),r.TgZ(2,"mat-panel-title"),r._UZ(3,"mat-icon",18),r.TgZ(4,"p",8),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.qZA(),r.qZA(),r.YNc(7,Ae,1,0,"mat-spinner",1),r.YNc(8,be,3,4,"div",2),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(5),r.Oqu(r.lcZ(6,3,"ROLES.FACILITYOBSERVER")),r.xp6(2),r.Q6J("ngIf",e.loading),r.xp6(1),r.Q6J("ngIf",!e.loading)}}function Re(e,t){1&e&&r._UZ(0,"mat-spinner",3)}function ve(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"ROLES.SPONSORSHIP_MEMBERS")," "))}const xe=function(){return["id","fullName","sponsored"]};function Ne(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,ve,3,3,"div",2),r._UZ(2,"perun-web-apps-members-list",20),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngIf",e.showDescription),r.xp6(1),r.Q6J("members",e.members)("displayedColumns",r.DdM(3,xe))}}function Ue(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"mat-expansion-panel",6),r.NdJ("opened",function(){return r.CHM(e),r.oxw(2).getMembers()}),r.TgZ(1,"mat-expansion-panel-header"),r.TgZ(2,"mat-panel-title"),r._UZ(3,"mat-icon",7),r.TgZ(4,"p",8),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.qZA(),r.qZA(),r.YNc(7,Re,1,0,"mat-spinner",1),r.YNc(8,Ne,3,4,"div",2),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(5),r.Oqu(r.lcZ(6,3,"ROLES.SPONSORSHIP")),r.xp6(2),r.Q6J("ngIf",e.loading),r.xp6(1),r.Q6J("ngIf",!e.loading)}}function Oe(e,t){1&e&&r._UZ(0,"mat-spinner",3)}function _e(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"ROLES.SPONSOR_VOS")," "))}function Me(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,_e,3,3,"div",2),r._UZ(2,"perun-web-apps-vos-list",9),r.qZA()),2&e){const e=r.oxw(3);r.xp6(1),r.Q6J("ngIf",e.showDescription),r.xp6(1),r.Q6J("displayedColumns",r.DdM(3,N))("vos",e.vos)}}function qe(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"mat-expansion-panel",6),r.NdJ("opened",function(){r.CHM(e);const t=r.oxw(2);return t.getVos(t.roles.get("SPONSOR").get("Vo"))}),r.TgZ(1,"mat-expansion-panel-header"),r.TgZ(2,"mat-panel-title"),r._UZ(3,"mat-icon",7),r.TgZ(4,"p",8),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.qZA(),r.qZA(),r.YNc(7,Oe,1,0,"mat-spinner",1),r.YNc(8,Me,3,4,"div",2),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(5),r.Oqu(r.lcZ(6,3,"ROLES.SPONSOR")),r.xp6(2),r.Q6J("ngIf",e.loading),r.xp6(1),r.Q6J("ngIf",!e.loading)}}function we(e,t){1&e&&(r.TgZ(0,"mat-expansion-panel"),r.TgZ(1,"mat-expansion-panel-header"),r.TgZ(2,"mat-panel-title"),r._UZ(3,"mat-icon",7),r.TgZ(4,"p",8),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(5),r.Oqu(r.lcZ(6,1,"ROLES.PERUN_ADMIN")))}function Ce(e,t){1&e&&(r.TgZ(0,"mat-expansion-panel"),r.TgZ(1,"mat-expansion-panel-header"),r.TgZ(2,"mat-panel-title"),r._UZ(3,"mat-icon",7),r.TgZ(4,"p",8),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(5),r.Oqu(r.lcZ(6,1,"ROLES.PERUN_OBSERVER")))}function Le(e,t){if(1&e&&(r.TgZ(0,"p",22),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.xp6(1),r.AsE("",e[0]," ids: ",e[1],"")}}function Ye(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"mat-expansion-panel",6),r.NdJ("opened",function(){const t=r.CHM(e).$implicit;return r.oxw(2).getInnerKeys(t)}),r.TgZ(1,"mat-expansion-panel-header"),r.TgZ(2,"mat-panel-title"),r._UZ(3,"mat-icon",7),r.TgZ(4,"p",8),r._uU(5),r.qZA(),r.qZA(),r.qZA(),r.YNc(6,Le,2,2,"p",21),r.qZA()}if(2&e){const e=t.$implicit,i=r.oxw(2);r.xp6(5),r.Oqu(e),r.xp6(1),r.Q6J("ngForOf",i.currentIds)}}function Je(e,t){if(1&e&&(r.TgZ(0,"mat-accordion"),r.YNc(1,O,9,5,"mat-expansion-panel",4),r.YNc(2,C,9,5,"mat-expansion-panel",4),r.YNc(3,y,9,5,"mat-expansion-panel",4),r.YNc(4,V,9,5,"mat-expansion-panel",4),r.YNc(5,k,9,5,"mat-expansion-panel",4),r.YNc(6,X,9,5,"mat-expansion-panel",4),r.YNc(7,te,9,5,"mat-expansion-panel",4),r.YNc(8,ae,9,5,"mat-expansion-panel",4),r.YNc(9,le,9,5,"mat-expansion-panel",4),r.YNc(10,me,9,5,"mat-expansion-panel",4),r.YNc(11,Se,9,5,"mat-expansion-panel",4),r.YNc(12,Te,9,5,"mat-expansion-panel",4),r.YNc(13,Ue,9,5,"mat-expansion-panel",4),r.YNc(14,qe,9,5,"mat-expansion-panel",4),r.YNc(15,we,7,3,"mat-expansion-panel",2),r.YNc(16,Ce,7,3,"mat-expansion-panel",2),r.YNc(17,Ye,7,2,"mat-expansion-panel",5),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.isSelf),r.xp6(1),r.Q6J("ngIf",e.isGroupAdmin),r.xp6(1),r.Q6J("ngIf",e.isGroupObserver),r.xp6(1),r.Q6J("ngIf",e.isVoAdmin),r.xp6(1),r.Q6J("ngIf",e.isVoObserver),r.xp6(1),r.Q6J("ngIf",e.isTrustedFacilityAdmin),r.xp6(1),r.Q6J("ngIf",e.isTopGroupCreator),r.xp6(1),r.Q6J("ngIf",e.isResourceAdmin),r.xp6(1),r.Q6J("ngIf",e.isResourceObserver),r.xp6(1),r.Q6J("ngIf",e.isResourceSelfService),r.xp6(1),r.Q6J("ngIf",e.isFacilityAdmin),r.xp6(1),r.Q6J("ngIf",e.isFacilityObserver),r.xp6(1),r.Q6J("ngIf",e.hasSponsorship),r.xp6(1),r.Q6J("ngIf",e.isSponsor),r.xp6(1),r.Q6J("ngIf",e.isPerunAdmin),r.xp6(1),r.Q6J("ngIf",e.isPerunObserver),r.xp6(1),r.Q6J("ngForOf",e.roleNames)}}let Pe=(()=>{class e{constructor(e,t,i,s,n,r,a,o,c){this.authzResolverService=e,this.usersManagerService=t,this.vosManagerService=i,this.facilitiesManagerService=s,this.resourcesManagerService=n,this.membersManagerService=r,this.groupsManagerService=a,this.route=o,this.store=c,this.currentIds=[],this.roles=new Map,this.roleFilter=["SELF","GROUPADMIN","VOADMIN","RESOURCEADMIN","FACILITYADMIN","TOPGROUPCREATOR","SPONSORSHIP","SPONSOR","RESOURCESELFSERVICE","VOOBSERVER","RESOURCEOBSERVER","GROUPOBSERVER","TRUSTEDFACILITYADMIN","FACILITYOBSERVER","PERUNADMIN","PERUNOBSERVER"],this.roleNames=[],this.groups=[],this.vos=[],this.facilities=[],this.users=[],this.resources=[],this.members=[]}ngOnInit(){this.outerLoading=!0,this.route.parent.params.subscribe(e=>{e.userId?(this.userId=e.userId,this.authzResolverService.getUserRoleNames(this.userId).subscribe(e=>{this.roleNames=e.map(e=>e.toUpperCase()),this.authzResolverService.getUserRoles(this.userId).subscribe(e=>{this.prepareRoles(e)})})):(this.showDescription=!0,this.principal=this.store.getPerunPrincipal(),this.userId=this.principal.userId,this.roleNames=Object.keys(this.principal.roles),this.prepareRoles(this.principal.roles))})}prepareRoles(e){this.roleNames.forEach(t=>{const i=new Map;switch(Object.keys(e[t]).forEach(s=>{i.set(s,e[t][s])}),t){case"SELF":this.isSelf=!0;break;case"GROUPADMIN":this.isGroupAdmin=!0;break;case"VOADMIN":this.isVoAdmin=!0;break;case"RESOURCEADMIN":this.isResourceAdmin=!0;break;case"FACILITYADMIN":this.isFacilityAdmin=!0;break;case"TOPGROUPCREATOR":this.isTopGroupCreator=!0;break;case"SPONSORSHIP":this.hasSponsorship=!0;break;case"SPONSOR":this.isSponsor=!0;break;case"RESOURCESELFSERVICE":this.isResourceSelfService=!0;break;case"VOOBSERVER":this.isVoObserver=!0;break;case"RESOURCEOBSERVER":this.isResourceObserver=!0;break;case"GROUPOBSERVER":this.isGroupObserver=!0;break;case"TRUSTEDFACILITYADMIN":this.isTrustedFacilityAdmin=!0;break;case"FACILITYOBSERVER":this.isFacilityObserver=!0;break;case"PERUNADMIN":this.isPerunAdmin=!0;break;case"PERUNOBSERVER":this.isPerunObserver=!0}this.roles.set(t,i)}),this.roleNames=this.roleNames.filter(e=>!this.roleFilter.includes(e)),this.outerLoading=!1}getAdminGroupsAndVos(){this.loading=!0,this.groups=[],this.usersManagerService.getGroupsWhereUserIsAdmin(this.userId).subscribe(e=>{this.groups=e;const t=[...new Set(this.groups.map(e=>e.voId))];this.getVos(t)})}getVos(e){this.loading=!0,this.vos=[],this.vosManagerService.getVosByIds(e).subscribe(e=>{this.vos=e,this.loading=!1})}getInnerKeys(e){if(this.roles.get(e)){const t=this.roles.get(e).entries(),i=[];let s=t.next().value;for(;s;)i.push(s),s=t.next().value;this.currentIds=i}else this.currentIds=[]}getAdminVos(){this.loading=!0,this.vos=[],this.usersManagerService.getVosWhereUserIsAdmin(this.userId).subscribe(e=>{this.vos=e,this.loading=!1})}getAdminFacilities(){this.loading=!0,this.facilities=[],this.facilitiesManagerService.getFacilitiesWhereUserIsAdmin(this.userId).subscribe(e=>{this.facilities=e.map(e=>({facility:e})),this.loading=!1})}getSelfData(){this.loading=!0,this.vos=[],this.users=[],this.usersManagerService.getVosWhereUserIsMember(this.userId).subscribe(e=>{this.vos=e;const t=this.roles.get("SELF").get("User");t?this.usersManagerService.getUsersByIds(t).subscribe(e=>{this.users=e,this.loading=!1}):this.loading=!1})}getResourcesData(e){this.loading=!0;const t=this.roles.get(e).get("Resource");this.vos=[],this.facilities=[],this.resources=[],this.resourcesManagerService.getRichResourcesByIds(t).subscribe(e=>{this.resources=e,this.vos=this.resources.map(e=>e.vo).filter((e,t,i)=>i.indexOf(e)===t),this.facilities=this.resources.map(e=>({facility:e.facility})).filter((e,t,i)=>i.indexOf(e)===t),this.loading=!1})}getMembers(){this.loading=!0;const e=this.roles.get("SPONSORSHIP").get("Member");this.members=[],this.membersManagerService.getRichMembersByIds(e).subscribe(e=>{this.members=e,this.loading=!1})}getGroupsAndVos(e){this.loading=!0;const t=this.roles.get(e).get("Vo"),i=this.roles.get(e).get("Group");this.vos=[],this.groups=[],this.groupsManagerService.getGroupsByIds(i).subscribe(e=>{this.groups=e,this.vosManagerService.getVosByIds(t).subscribe(e=>{this.vos=e,this.loading=!1})})}getFacilities(e){this.loading=!0,this.facilities=[];const t=this.roles.get(e).get("Facility");this.facilitiesManagerService.getFacilitiesByIds(t).subscribe(e=>{this.facilities=e.map(e=>({facility:e})),this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(s.Ct),r.Y36(s.Fv),r.Y36(s.YF),r.Y36(s.IQ),r.Y36(s.xk),r.Y36(s.uq),r.Y36(s.ff),r.Y36(a.gz),r.Y36(n.d6))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-user-roles"]],hostVars:2,hostBindings:function(e,t){2&e&&r.ekj("router-component",t.true)},decls:5,vars:5,consts:[[1,"page-subtitle","d-flex"],["class","ml-auto mr-auto",4,"ngIf"],[4,"ngIf"],[1,"ml-auto","mr-auto"],[3,"opened",4,"ngIf"],[3,"opened",4,"ngFor","ngForOf"],[3,"opened"],["mat-card-avatar","","svgIcon","perun-user-dark",1,"mr-2"],[1,"mt-auto","mb-auto"],[3,"displayedColumns","vos"],["class","mt-5",4,"ngIf"],[1,"mt-5"],[3,"users","disableRouting","displayedColumns"],["mat-card-avatar","","svgIcon","perun-group-black",1,"mr-2"],[3,"groups","displayedColumns"],["mat-card-avatar","","svgIcon","perun-vo-black",1,"mr-2"],["mat-card-avatar","","svgIcon","perun-resource-black",1,"mr-2"],[3,"resources","routingVo","displayedColumns"],["mat-card-avatar","","svgIcon","perun-facility-black",1,"mr-2"],[3,"displayedColumns","facilities"],[3,"members","displayedColumns"],["class","role-content",4,"ngFor","ngForOf"],[1,"role-content"]],template:function(e,t){1&e&&(r.TgZ(0,"h1",0),r._uU(1),r.ALo(2,"translate"),r.qZA(),r.YNc(3,S,1,0,"mat-spinner",1),r.YNc(4,Je,18,17,"mat-accordion",2)),2&e&&(r.xp6(1),r.Oqu(r.lcZ(2,3,"ROLES.TITLE")),r.xp6(2),r.Q6J("ngIf",t.outerLoading),r.xp6(1),r.Q6J("ngIf",!t.outerLoading))},directives:[o.O5,c.$g,p.pp,o.sg,p.ib,p.yz,p.yK,l.Hw,u.kc,g.Z,d.C,m.W,h.C,f.X,Z.O],pipes:[I.X$],styles:[".role-content[_ngcontent-%COMP%]{overflow:auto;overflow-y:hidden}.info-icon[_ngcontent-%COMP%]{vertical-align:middle;transform:scale(.8)}"]}),e})()},68787:function(e,t,i){"use strict";i.d(t,{x:function(){return u}});var s=i(33642),n=i(31572),r=i(57629),a=i(61511),o=i(67806),c=i(8557);function p(e,t){1&e&&n._UZ(0,"mat-spinner",2)}function l(e,t){if(1&e&&(n.TgZ(0,"div"),n._UZ(1,"perun-web-apps-menu-buttons-field",3),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("items",e.navItems)("size","small")}}let u=(()=>{class e{constructor(e,t){this.route=e,this.userManager=t,this.navItems=[],this.loading=!1}ngOnInit(){window.location.pathname.startsWith("/admin")?(this.loading=!0,this.route.parent.parent.params.subscribe(e=>{this.userManager.getUserById(e.userId).subscribe(e=>{this.isServiceUser=e.serviceUser,this.initNavItems(),this.loading=!1},()=>this.loading=!1)})):this.initNavItems()}initNavItems(){this.navItems=[],window.location.pathname.startsWith("/admin")?this.navItems.push(this.isServiceUser?{cssIcon:"perun-service-identity",url:"associated-users",label:"MENU_ITEMS.USER.ASSOCIATED_USERS",style:"user-btn"}:{cssIcon:"perun-service-identity",url:"service-identities",label:"MENU_ITEMS.USER.SERVICE_IDENTITIES",style:"user-btn"}):this.navItems.push({cssIcon:"perun-settings2",url:"passwordReset",label:"MENU_ITEMS.USER.PASSWORD_RESET",style:"user-btn"},{cssIcon:"perun-settings2",url:"guiConfig",label:"MENU_ITEMS.USER.GUI_CONFIG",style:"user-btn"})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(r.gz),n.Y36(s.Fv))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-user-settings-overview"]],hostVars:2,hostBindings:function(e,t){2&e&&n.ekj("router-component",t.true)},decls:2,vars:2,consts:[["class","mr-auto ml-auto",4,"ngIf"],[4,"ngIf"],[1,"mr-auto","ml-auto"],[3,"items","size"]],template:function(e,t){1&e&&(n.YNc(0,p,1,0,"mat-spinner",0),n.YNc(1,l,2,2,"div",1)),2&e&&(n.Q6J("ngIf",t.loading),n.xp6(1),n.Q6J("ngIf",!t.loading))},directives:[a.O5,o.$g,c.L],styles:[""]}),e})()},40790:function(e,t,i){"use strict";i.d(t,{L:function(){return r}});var s=i(31572),n=i(21575);let r=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-user-settings"]],hostVars:2,hostBindings:function(e,t){2&e&&s.ekj("router-component",t.true)},decls:1,vars:0,template:function(e,t){1&e&&s._UZ(0,"app-animated-router-outlet")},directives:[n.A],styles:[""]}),e})()},6363:function(e,t,i){"use strict";i.r(t),i.d(t,{UsersModule:function(){return ge}});var s=i(61511),n=i(57629),r=i(15879),a=i(31612),o=i(40790),c=i(68787),p=i(95690),l=i(41939),u=i(27613),g=i(13857),d=i(31572),m=i(66283),h=i(4786),f=i(71522),Z=i(48160);function I(e,t){if(1&e&&(d.TgZ(0,"mat-option",5),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.Q6J("value",e),d.xp6(1),d.hij(" ",e," ")}}let S=(()=>{class e{constructor(e){this.guiConfigService=e,this.tablePageSizeOptions=u.f7}ngOnInit(){this.preferredTablePageSize=this.guiConfigService.getNumber(g.Rc)}updatePreferredTablePageSize(){this.guiConfigService.setNumber(g.Rc,this.preferredTablePageSize)}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(g.Ng))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-user-settings-app-configuration"]],decls:10,vars:8,consts:[[1,"page-subtitle"],[1,"col-12","col-lg-6","p-0"],[1,"w-100"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(d.TgZ(0,"h1",0),d._uU(1),d.ALo(2,"translate"),d.qZA(),d.TgZ(3,"div",1),d.TgZ(4,"mat-form-field",2),d.TgZ(5,"mat-label"),d._uU(6),d.ALo(7,"translate"),d.qZA(),d.TgZ(8,"mat-select",3),d.NdJ("valueChange",function(e){return t.preferredTablePageSize=e})("valueChange",function(){return t.updatePreferredTablePageSize()}),d.YNc(9,I,2,2,"mat-option",4),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(1),d.Oqu(d.lcZ(2,4,"USER_DETAIL.SETTINGS.GUI_CONFIG.TITLE")),d.xp6(5),d.Oqu(d.lcZ(7,6,"USER_DETAIL.SETTINGS.GUI_CONFIG.PREF_TABLE_PAGE_SIZE")),d.xp6(2),d.Q6J("value",t.preferredTablePageSize),d.xp6(1),d.Q6J("ngForOf",t.tablePageSizeOptions))},directives:[m.KE,m.hX,h.gD,s.sg,f.ey],pipes:[Z.X$],styles:[""]}),e})();var A=i(71956),E=i(88426),b=i(48958),T=i(66297),R=i(43691),v=i(36922),x=i(21575),N=i(22196);const U=function(){return{color:"black"}},O=function(){return["/myProfile"]};function _(e,t){if(1&e&&(d.TgZ(0,"div",1),d._UZ(1,"perun-web-apps-back-button"),d.TgZ(2,"div",2),d._UZ(3,"mat-icon",3),d.ALo(4,"translate"),d.TgZ(5,"div",4),d.TgZ(6,"div",5),d.TgZ(7,"a",6),d._uU(8),d.ALo(9,"userFullName"),d.qZA(),d.TgZ(10,"span",7),d._uU(11),d.qZA(),d.qZA(),d.TgZ(12,"span",8),d._uU(13),d.ALo(14,"translate"),d.ALo(15,"translate"),d.qZA(),d.qZA(),d.qZA(),d._UZ(16,"app-animated-router-outlet"),d.qZA()),2&e){const e=d.oxw();d.xp6(3),d.s9C("matTooltip",d.lcZ(4,8,"MENU_ITEMS.USER.ENTITY")),d.Q6J("ngStyle",d.DdM(16,U)),d.xp6(4),d.Q6J("routerLink",d.DdM(17,O)),d.xp6(1),d.hij(" ",d.lcZ(9,10,e.user)," "),d.xp6(3),d.hij(" \xa0#",e.user.id," "),d.xp6(2),d.lnq(" ",d.lcZ(14,12,"MENU_ITEMS.USER.ENTITY"),", ",d.lcZ(15,14,"MENU_ITEMS.USER.USER_TYPE"),": ",e.getUserType()," ")}}let M=(()=>{class e{constructor(e,t,i){this.sideMenuService=e,this.store=t,this.router=i}ngOnInit(){this.path=this.router.url,this.router.events.subscribe(e=>{this.path=this.router.url}),this.principal=this.store.getPerunPrincipal(),this.user=this.principal.user,this.sideMenuService.setUserItems([])}getUserType(){return this.user.serviceUser?"Service":"Person"}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(b.D),d.Y36(E.d6),d.Y36(n.F0))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-user-profile"]],decls:1,vars:1,consts:[["class","container-fluid pl-xl-5 pr-xl-5 user-theme",4,"ngIf"],[1,"container-fluid","pl-xl-5","pr-xl-5","user-theme"],[1,"d-flex","page-title-headtitle"],["svgIcon","perun-user-dark",1,"perun-icon","perun-icon-detail",3,"matTooltip","ngStyle"],[1,"page-title-block"],[1,"page-title-headline","d-flex","align-items-center"],["queryParamsHandling","merge",1,"user-link",3,"routerLink"],[1,"text-muted"],[1,"mt-1","entity-info"]],template:function(e,t){1&e&&d.YNc(0,_,17,18,"div",0),2&e&&d.Q6J("ngIf",void 0!==t.user)},directives:[s.O5,T.W,R.Hw,v.gM,s.PC,n.yS,x.A],pipes:[Z.X$,N.d],styles:[""]}),e})();var q=i(7233);const w=[{path:"",component:M,children:[{path:"",component:A.Z,data:{animation:"UserOverviewPage"}},{path:"attributes",component:p.u,data:{animation:"UserAttributesPage"}},{path:"organizations",component:r.j,data:{animation:"UserOrganizationsPage",showPrincipal:!0}},{path:"groups",component:a.u,data:{animation:"UserGroupsPage",showPrincipal:!0}},{path:"roles",component:q.t,data:{animation:"UserRolesPage"}},{path:"settings",component:o.L,children:[{path:"",component:c.x,data:{animation:"UserSettingsOverviewPage"}},{path:"passwordReset",component:l.Nj,data:{animation:"PasswordResetPage"}},{path:"guiConfig",component:S,data:{animation:"UserAppConfigurationPage"}}]}]}];let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[n.Bz.forChild(w)],n.Bz]}),e})();var L=i(40084),Y=i(80340),J=i(16073),P=i(25122),y=i(45001),D=i(15980),F=i(58623),Q=i(67033),V=i(55109),z=i(91010),B=i(29236),G=i(84608),k=i(71403),H=i(67806),j=i(45994),W=i(27521),X=i(15812),$=i(54810),K=i(27679),ee=i(73005),te=i(27439),ie=i(70663),se=i(88975),ne=i(10033),re=i(8055),ae=i(4253),oe=i(22727),ce=i(41050),pe=i(7423),le=i(22280),ue=i(28780);let ge=(()=>{class e{constructor(e){this.translate=e,e.addLangs(["en","cs"])}}return e.\u0275fac=function(t){return new(t||e)(d.LFG(Z.sK))},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[s.ez,C,L.Bb,Y.c,m.lN,J.UX,J.u5,R.Ps,P.SJ,y.To,Z.aw.forChild({}),D.ot,F.JX,Q.p0,V.Nh,z.dp,D.ot,B.p9,G.Is,h.LD,k.ZX,H.Cq,j.Cv,v.AV,W.rP,X.FA,f.XK,$.Fk,K.t,f.si,ee.TU,te.QW,ie.T5,se._t,te.QW,ne.Hi,re.Tx,ae.Cl,oe.r,ce.g,l.ez,pe.r,le.d4,ue.m]]}),e})()}}]);